<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap"
        rel="stylesheet">
    <style>
        body,
        body * {
            font-size: 1.5rem;
            font-family: 'Single Day';
        }
    </style>
    <script>
        let r; //전역 변수 선언
        window.onload = function(){
            r =  document.getElementById("result");
            //초기세팅 값 불러오기
            init_setting();
            //버튼이벤트
            document.getElementById("btnresult").onclick = function(){
                let hobby = document.getElementsByName("hobby");
                let result = "";
                for(let h of hobby){
                    if(h.checked){
                        result += h.value+"&nbsp;";
                    }
                }
                if(result == ""){
                    document.getElementById("result").innerText = "저는 취미가 없습니다.";
                }else{
                    document.getElementById("result").innerHTML = 
                    `저의 취미는 ${result} 입니다`;
                }
                //글자색 적용
                let fcolor = document.getElementById("fontcolor").value;
                r.style.color = fcolor;

                //배경색 적용
                let bcolor = document.getElementById("backcolor").value;
                r.style.backgroundColor = bcolor;

                //글꼴 적용
                let selfont = document.getElementById("selfont").value;
                r.style.fontFamily = selfont;

                //로컬스토리지에 폰트속성 저장하기
                localStorage.fontcolor = fcolor;
                localStorage.backcolor = bcolor;
                localStorage.fontname = selfont; 
            }
        }
        function init_setting(){
            //로컬스토리 값 가져오기
            let fcolor = localStorage.fontcolor;
            let bcolor = localStorage.backcolor;
            let selfont = localStorage.fontname;

            //초기값
            document.getElementById("fontcolor").value = fcolor;
            document.getElementById("backcolor").value = localStorage.backcolor;
            document.getElementById("selfont").value = selfont;

            //초기값 불러오기
            r.style.color =  localStorage.fontcolor;
            r.style.backgroundColor =  bcolor;
            r.style.fontFamily =  selfont;
        }
    </script>

</head>

<body>
    <h2 class="alert alert-success">폰트 환경설정 스토리지</h2>
    <img src="../image/mainImage/K-036.png" alt="" width="100" class="rounded-circle">

    <img src="../image/mainImage/K-046.png" alt="" width="100" class="img-thumbnail">

    <table class="table tabel-striped" style="width: 300px;">
        <caption align="top"><b>폰트설정</b></caption>
        <tr>
            <th width="100" style="background-color: lightgray;">글자색</th>
            <td>
                <input type="color" id="fontcolor">
            </td>
        </tr>
        <tr>
            <th width="100" style="background-color: lightgray;">배경색</th>
            <td>
                <input type="color" id="backcolor" value="#ffffff">
            </td>
        </tr>
        <tr>
            <th width="100" style="background-color: lightgray;">글꼴</th>
            <td>
                <select name="" id="selfont" class="form-select">
                    <option value="Jua">Jua</option>
                    <option value="Nanum Pen Script">Nanum Pen Script</option>
                    <option value="Single Day">Single Day</option>
                    <option value="Gamja Flower">Gamja Flower</option>
                </select>
            </td>
        </tr>
        <tr>
            <th width="100" style="background-color: lightgray;">취미</th>
            <td>
                <label for="" style="width: 80px;">
                    <input type="checkbox" name="hobby" value="게임" class="form-check-input">게임
                </label>
                <label for="" style="width: 80px;">
                    <input type="checkbox" name="hobby" value="여행"class="form-check-input">여행
                </label>
                <br>
                <label for="" style="width: 80px;">
                    <input type="checkbox" name="hobby" value="영화감상" class="form-check-input">영화감상
                </label>
                <label for="" style="width: 80px;">
                    <input type="checkbox" name="hobby" value="낚시" class="form-check-input">낚시
                </label>
            </td>
        </tr>
        <tr height="70" valign="middle">
            <td colspan="2" align="center">
                <button type="button" id="btnresult">
                    적용하기
                </button>
                <div id="result">결과는 여기에</div>
            </td>
        </tr>
    </table>
</body>

</html>